From b61ad1a372d533219e4521d1a01faf5b5cb3b3b2 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Martin=20Povi=C5=A1er?= <povik+lin@cutebit.org>
Date: Sat, 19 Feb 2022 18:28:17 +0100
Subject: [PATCH] ASoC: apple-mca: Fix off-by-one error
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

An all time classic.

Signed-off-by: Martin Povi≈°er <povik+lin@cutebit.org>
---
 sound/soc/apple/mca.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sound/soc/apple/mca.c b/sound/soc/apple/mca.c
index 6e38d1637780..20599bf0577f 100644
--- a/sound/soc/apple/mca.c
+++ b/sound/soc/apple/mca.c
@@ -120,7 +120,7 @@ struct mca_route {
 
 	struct clk *clk_parent;
 
-	bool clocks_in_use[SNDRV_PCM_STREAM_LAST];
+	bool clocks_in_use[SNDRV_PCM_STREAM_LAST + 1];
 
 	unsigned int tdm_slots;
 	unsigned int tdm_slot_width;
-- 
2.32.0 (Apple Git-132)

